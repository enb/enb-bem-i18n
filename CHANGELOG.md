История изменений
=================

1.0.0
-----

### Новый I18N

Добавлена поддержка новой версии [ядра i18n](README.md#Ядро-i18n), которое появилось в библиотеке [bem-core](https://ru.bem.info/libs/bem-core) (начиная с версии `2.8.0`).

Об [отличиях](README.md#Отличия-в-работе) в работе со старым ядром и новом [API](README.md#api-i18n) читайте в [документации](README.md).

### [ __*major*__ ] Сборка переводов, общих для нескольких языков

При сборке [файлов с переводами](README.md#Исходные-данные--keysets) в результат всегда будут попадать [ядро i18n](README.md#Ядро-i18n) и [переводы, общие для нескольких языков](README.md#Хранение-общих-keysets-файлов-с-переводами).

Это означает, что не нужно лишний раз вызывать сборку со специальным значением `lang: 'all'`.

**Было:**

```js
node.addTechs([
    [keysets, { lang: 'all' }],
    [keysets, { lang: '{lang}' }],
    [i18n, { lang: 'all' }],
    [i18n, { lang: '{lang}' }]
]);
```

**Стало:**

```js
node.addTechs([
    [keysets, { lang: '{lang}' }],
    [i18n, { lang: '{lang}' }]
]);
```

### [ __*major*__ ] Экспорт i18n модуля

Раньше собираемый `i18n`-модуль предоставлялся в глобальную переменную `BEM.I18N` в любой среде исполнения. Теперь его можно подключить с помощью CommonJS или как модуль `i18n` при наличии модульной системы [YModules](https://ru.bem.info/tools/bem/modules/).

Об использовании собираемого `i18n`-модуля и способах его подключения читайте в [документации](README.md#Использование).

Настроить экспортирование можно с помощью опции [exports](api.ru.md#exports).

### Технологии

* [ __*major*__ ] Технология `i18n-lang-js.js` переименована в [i18n](api.ru.md#i18n).
* [ __*major*__ ] Технология `i18n-merge-keysets` переименована в [keysets](api.ru.md#keysets).
* [ __*major*__ ] Технология `i18n-keysets-xml.js` переименована в [keysets-xml](api.ru.md#keysets-xml).
* [ __*major*__ ] Технология `i18n-bemjson-to-html` удалена, вместо неё следует использовать `bemjson-to-html` технологии из пакетов для сборки шаблонов: [enb-xjst](https://ru.bem.info/tools/bem/enb-xjst/), [enb-bemxjst](https://ru.bem.info/tools/bem/enb-bemxjst/), [enb-bh](https://ru.bem.info/tools/bem/enb-bh/).

0.4.0
-----

### Крупные изменения

* Улучшена поддержка параметризованных склоняемых ключей ([#9]). Все поддерживаемые случаи описаны в [тестах](https://github.com/enb-bem/enb-bem-i18n/blob/master/test/exlib/tanker.test.js) модуля `tanker`.
* Из модуля `tanker` были удалены неиспользумые методы `parseXml` и `domToJs` ([#9]).

### Исправление ошибок

* Опция `templateFile` теперь обязательная ([#51]).
* Исправлены ошибки в работе модуля `tanker` ([#9]).

### Зависимости

* Модуль `vow@0.4.9` обновлён до версии `0.4.10`.

0.3.0
-----

### Технологии

* Добавлена `i18n-bemjson-to-html` технология ([#21]).

### Engines

* Добавлена поддержка `Node.js` версии `0.12` ([#13]).
* Добавлена поддержка `io.js` ([#13]).

### Windows

* Добавлена поддержка Windows.

### Тестирование

* Добавлены тесты для всех технологий ([#13]).
* Настроен запуск автотестов с помощью AppVeyor для Windows ([#27]).

### Исправление ошибок

* Исправлено кэширование для `i18n-merge-keysets` технологии ([#15]).
* Исправлена ошибка из-за которой невозможно было использовать `i18n-keysets-xml` технологию ([#29]).

### Остальное

* Модуль `vow@0.4.8` обновлён до версии `0.4.9`.

0.2.1
-----

* Добавлен недостающий модуль `dom-js`.

0.2.0
-----

* Добавлена технология `i18n-keysets-xml`.
* Модуль `tanker` перенесён из `enb` пакета.
* Модуль `vow@0.4.7` обновлён до версии `0.4.8`.

0.1.2
-----

* Исправлена генерация `?.lang.{lang}.js` для случаев, когда нету `i-bem__i18n`.

0.1.1
-----

* Исправлена зависимость от `vow`.

0.1.0
-----

* Добавлена `i18n-lang-js` технология.
* Добавлена `i18n-merge-keysets` технология.

[#51]: https://github.com/enb-bem/enb-bem-i18n/issues/51
[#29]: https://github.com/enb-bem/enb-bem-i18n/issues/29
[#27]: https://github.com/enb-bem/enb-bem-i18n/issues/27
[#21]: https://github.com/enb-bem/enb-bem-i18n/issues/21
[#15]: https://github.com/enb-bem/enb-bem-i18n/issues/15
[#13]: https://github.com/enb-bem/enb-bem-i18n/issues/13
[#9]: https://github.com/enb-bem/enb-bem-i18n/pull/9
